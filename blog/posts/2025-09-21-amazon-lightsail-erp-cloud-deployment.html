<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Lightsail을 활용한 ERP 시스템 클라우드 배포 완전 가이드 | 김민재의 개발 블로그</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../post-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <meta name="description" content="NestJS + Next.js ERP 시스템을 Amazon Lightsail에 배포하는 과정에서 발생한 문제들과 해결 방법을 상세히 기록합니다. Docker, Nginx, SSL 인증서 설정 경험을 공유합니다.">
    <meta name="keywords" content="Amazon Lightsail, 클라우드 배포, NestJS, Next.js, Docker, Nginx, SSL, CORS, ERP, 배포 가이드">
    <meta name="author" content="김민재">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://mingjaam.github.io/blog/posts/2025-09-21-amazon-lightsail-erp-cloud-deployment.html">
    <meta property="og:title" content="Amazon Lightsail을 활용한 ERP 시스템 클라우드 배포 완전 가이드">
    <meta property="og:description" content="NestJS + Next.js ERP 시스템을 Amazon Lightsail에 배포하는 과정에서 발생한 문제들과 해결 방법을 상세히 기록합니다.">
    <meta property="og:image" content="https://mingjaam.github.io/blog/assets/images/백_양지우.JPG">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mingjaam.github.io/blog/posts/2025-09-21-amazon-lightsail-erp-cloud-deployment.html">
    <meta property="twitter:title" content="Amazon Lightsail을 활용한 ERP 시스템 클라우드 배포 완전 가이드">
    <meta property="twitter:description" content="NestJS + Next.js ERP 시스템을 Amazon Lightsail에 배포하는 과정에서 발생한 문제들과 해결 방법을 상세히 기록합니다.">
    <meta property="twitter:image" content="https://mingjaam.github.io/blog/assets/images/백_양지우.JPG">
</head>
<body>
    <!-- 네비게이션 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../../portfolio/index.html">
                    <i class="fas fa-code"></i>
                    <span>김민재</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../../portfolio/index.html" class="nav-link">포트폴리오</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html" class="nav-link active">블로그</a>
                </li>
                <li class="nav-item">
                    <a href="../../portfolio/index.html#contact" class="nav-link">연락처</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- 메인 콘텐츠 -->
    <main class="main-content">
        <div class="container">
            <a href="../index.html" class="back-to-blog">
                <i class="fas fa-arrow-left"></i>
                블로그로 돌아가기
            </a>
            
            <article class="post-content">
                <header class="post-header">
                    <h1 class="post-title">☁️ Amazon Lightsail을 활용한 ERP 시스템 클라우드 배포 완전 가이드</h1>
                    
                    <div class="post-meta">
                        <div class="post-meta-item">
                            <i class="fas fa-calendar"></i>
                            <span>2025년 9월 21일</span>
                        </div>
                        <div class="post-meta-item">
                            <i class="fas fa-clock"></i>
                            <span>약 15분 읽기</span>
                        </div>
                        <div class="post-meta-item">
                            <i class="fas fa-user"></i>
                            <span>김민재</span>
                        </div>
                    </div>
                    
                    <div class="post-tags">
                        <span class="tag">Amazon Lightsail</span>
                        <span class="tag">클라우드 배포</span>
                        <span class="tag">Docker</span>
                        <span class="tag">Nginx</span>
                        <span class="tag">SSL</span>
                        <span class="tag">CORS</span>
                        <span class="tag">NestJS</span>
                        <span class="tag">Next.js</span>
                    </div>
                </header>
                
                <div class="post-body">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 12px; margin-bottom: 2rem; text-align: center;">
                        <h3 style="color: white; margin-bottom: 1rem;">🎯 프로젝트 개요</h3>
                        <p style="color: white; line-height: 1.6; margin-bottom: 0;">
                            NestJS + Next.js로 구성된 ERP 시스템을 Amazon Lightsail 클라우드 서버에 배포하는 과정에서 발생한 다양한 문제들과 해결 과정을 정리했습니다. 
                            특히 Docker 컨테이너화, Nginx 리버스 프록시 설정, SSL 인증서 적용, CORS 설정 등 실제 프로덕션 환경에서 마주치는 문제들을 단계별로 해결해나갔습니다.
                        </p>
                    </div>

                    <div class="toc">
                        <h3>📋 목차</h3>
                        <ul>
                            <li><a href="#overview">프로젝트 개요</a></li>
                            <li><a href="#structure">프로젝트 구조</a></li>
                            <li><a href="#initial-setup">초기 환경 설정 및 문제</a></li>
                            <li><a href="#docker-setup">Docker 환경 구축 과정</a></li>
                            <li><a href="#dockerfile-optimization">Dockerfile 최적화 과정</a></li>
                            <li><a href="#database-issues">데이터베이스 연결 문제</a></li>
                            <li><a href="#nginx-setup">Nginx 리버스 프록시 설정</a></li>
                            <li><a href="#cors-issues">CORS 설정 문제</a></li>
                            <li><a href="#automation">자동화 스크립트 개발</a></li>
                            <li><a href="#git-auth">Git 인증 문제 해결</a></li>
                            <li><a href="#deployment-complete">배포 완료 및 검증</a></li>
                            <li><a href="#efficiency">개발 효율성 향상 포인트</a></li>
                            <li><a href="#future-improvements">향후 개선 사항</a></li>
                            <li><a href="#conclusion">결론</a></li>
                        </ul>
                    </div>

                    <h2 id="overview">📊 프로젝트 개요</h2>
                    
                    <p>이번 프로젝트에서는 NestJS + Next.js로 구성된 ERP 시스템을 Amazon Lightsail 클라우드 서버에 배포하는 과정에서 발생한 다양한 문제들과 해결 과정을 정리했습니다. 특히 Docker 컨테이너화, Nginx 리버스 프록시 설정, SSL 인증서 적용, CORS 설정 등 실제 프로덕션 환경에서 마주치는 문제들을 단계별로 해결해나갔습니다.</p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">11</div>
                            <div class="stat-label">해결한 주요 문제들</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">자동화 스크립트</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">5</div>
                            <div class="stat-label">Docker 컨테이너</div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>💡 중요한 점</h4>
                        <p><strong>기능 구현이 완벽하지 않은 상태에서도 클라우드 배포 환경을 먼저 구축해놓는 것이 개발 효율성과 지속적인 배포(CI/CD) 측면에서 매우 유용합니다.</strong></p>
                    </div>

                    <h2 id="structure">🏗️ 프로젝트 구조</h2>
                    <div class="tech-stack">
                        <div class="tech-item">
                            <strong>백엔드:</strong> NestJS + TypeORM + PostgreSQL + Redis
                        </div>
                        <div class="tech-item">
                            <strong>프론트엔드:</strong> Next.js + React + Shadcn UI
                        </div>
                        <div class="tech-item">
                            <strong>인프라:</strong> Docker + Docker Compose + Nginx + Let's Encrypt SSL
                        </div>
                        <div class="tech-item">
                            <strong>클라우드:</strong> Amazon Lightsail (Ubuntu 22.04 LTS)
                        </div>
                    </div>

                    <h2 id="initial-setup">🚀 초기 환경 설정 및 문제</h2>

                    <h3>1.1 Amazon Lightsail 서버 설정</h3>
                    <p>Amazon Lightsail에서 Ubuntu 22.04 LTS 인스턴스를 생성한 후, Bitnami 스택이 기본적으로 설치되어 있는 환경에서 작업을 시작했습니다.</p>

                    <div class="code-block">
                        <h4>서버 접속</h4>
                        <pre><code># 서버 접속
ssh -i your-key.pem bitnami@your-server-ip</code></pre>
                    </div>

                    <h3>1.2 Git 클론 및 브랜치 설정</h3>
                    <div class="code-block">
                        <h4>프로젝트 클론</h4>
                        <pre><code># 프로젝트 클론
git clone https://github.com/username/intu_erp.git
cd intu_erp

# 클라우드 배포용 브랜치 생성
git checkout -b test</code></pre>
                    </div>

                    <h2 id="docker-setup">🐳 Docker 환경 구축 과정</h2>

                    <div class="problem-section">
                        <h3>2.1 Docker 권한 문제 해결</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>PermissionError: [Errno 13] Permission denied</code> 오류 발생</li>
                                <li>Docker 명령어 실행 시 권한 부족</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>Bitnami 환경에서 Docker 소켓 권한 문제</li>
                                <li>현재 사용자가 docker 그룹에 속하지 않음</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법 - fix-docker-permissions.sh</h4>
                            <pre><code>#!/bin/bash
echo "🔧 Docker 권한 문제 해결 스크립트 시작..."

# 현재 사용자를 docker 그룹에 추가
sudo usermod -aG docker $USER

# Docker 서비스 시작 및 활성화
sudo systemctl start docker
sudo systemctl enable docker

# Docker 소켓 권한 수정
sudo chmod 666 /var/run/docker.sock

echo "✅ Docker 권한 설정 완료."
echo "⚠️  변경사항을 적용하려면 새 터미널 세션을 시작하거나 'newgrp docker' 명령어를 실행해야 합니다."</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> Docker 권한 문제 해결 및 정상 실행 가능
                        </div>
                    </div>

                    <div class="problem-section">
                        <h3>2.2 포트 충돌 문제 해결</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li>Redis, PostgreSQL, Nginx 등이 이미 사용 중인 포트로 인한 충돌</li>
                                <li>Docker 컨테이너 실행 시 포트 바인딩 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>Bitnami 스택의 기본 서비스들이 80, 443, 5432, 6379 포트 사용</li>
                                <li>기존 서비스와 Docker 컨테이너 간의 포트 충돌</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법 - force-fix-ports.sh</h4>
                            <pre><code>#!/bin/bash
echo "🚨 강력한 포트 충돌 해결 스크립트 시작..."

# 주요 서비스 중지
sudo systemctl stop redis postgresql mysql apache2 httpd nginx

# 모든 Docker 컨테이너 중지 및 제거
docker-compose down --volumes --remove-orphans
docker rm -f $(docker ps -aq)
docker system prune -a -f --volumes

# 특정 포트 사용 프로세스 강제 종료
PORTS=(80 443 3000 3001 5432 6379)
for PORT in "${PORTS[@]}"; do
    PIDS=$(sudo fuser -n tcp $PORT 2>/dev/null)
    if [ -n "$PIDS" ]; then
        sudo kill -9 $PIDS 2>/dev/null || true
    fi
done

echo "🎉 강력한 포트 충돌 해결 완료!"</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> 모든 포트 충돌 해결 및 Docker 컨테이너 정상 실행
                        </div>
                    </div>

                    <h2 id="dockerfile-optimization">⚙️ Dockerfile 최적화 과정</h2>

                    <div class="problem-section">
                        <h3>3.1 백엔드 Dockerfile 문제</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>sh: nest: not found</code> 오류 발생</li>
                                <li><code>Error: Cannot find module '/app/dist/main'</code> 오류</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>개발 의존성 누락으로 인한 빌드 실패</li>
                                <li>프로덕션 모드 실행 시 빌드 파일 경로 문제</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 과정</h4>
                            <pre><code># 초기 Dockerfile (문제 있음)
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production  # 개발 의존성 누락
COPY . .
RUN npm run build  # nest CLI 없어서 실패
CMD ["npm", "run", "start:prod"]

# 최종 Dockerfile (해결됨)
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci  # 모든 의존성 설치
COPY . .
RUN npm run build
RUN ls -la dist/  # 빌드 확인
EXPOSE 3001
CMD ["npm", "run", "start:prod"]</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> 백엔드 컨테이너 정상 빌드 및 실행
                        </div>
                    </div>

                    <div class="problem-section">
                        <h3>3.2 프론트엔드 Dockerfile 문제</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>Could not find a production build in the '.next' directory</code> 오류</li>
                                <li>Next.js 프로덕션 빌드 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>Next.js 프로덕션 빌드가 제대로 생성되지 않음</li>
                                <li>빌드 과정에서 오류 발생</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법</h4>
                            <pre><code>FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build
RUN ls -la .next/  # 빌드 확인
EXPOSE 3000
CMD ["npm", "start"]</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> 프론트엔드 컨테이너 정상 빌드 및 실행
                        </div>
                    </div>

                    <h2 id="database-issues">🗄️ 데이터베이스 연결 문제</h2>

                    <div class="problem-section">
                        <h3>4.1 PostgreSQL 비밀번호 불일치</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>password authentication failed for user "postgres"</code> 오류</li>
                                <li>데이터베이스 연결 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>PostgreSQL 컨테이너: <code>POSTGRES_PASSWORD=password</code></li>
                                <li>백엔드 컨테이너: <code>DB_PASSWORD=your_secure_password</code></li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법</h4>
                            <pre><code># .env 파일 통일
cat > .env << 'EOF'
DATABASE_URL="postgresql://postgres:password@postgres:5432/intu_erp"
POSTGRES_PASSWORD=password
DB_PASSWORD=password
# ... 기타 설정
EOF</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> 데이터베이스 연결 성공
                        </div>
                    </div>

                    <div class="problem-section">
                        <h3>4.2 데이터베이스 스키마 동기화 문제</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li>TypeORM의 <code>synchronize</code> 옵션이 Docker 환경에서 제대로 작동하지 않음</li>
                                <li>새로운 컬럼들이 데이터베이스에 추가되지 않음</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>Docker 환경에서 TypeORM 설정 문제</li>
                                <li>데이터베이스 마이그레이션이 자동으로 실행되지 않음</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법</h4>
                            <pre><code>-- 수동으로 스키마 업데이트
ALTER TABLE applications ADD COLUMN "isPaymentReceived" boolean DEFAULT false;
ALTER TABLE applications ADD COLUMN "paymentReceivedAt" timestamp;
ALTER TABLE programs ADD COLUMN revenue integer DEFAULT 0;
ALTER TABLE users ADD COLUMN "isBlocked" boolean DEFAULT false;
ALTER TABLE users ADD COLUMN "blockReason" text;</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> 모든 필요한 컬럼이 데이터베이스에 추가됨
                        </div>
                    </div>

                    <h2 id="nginx-setup">🌐 Nginx 리버스 프록시 설정</h2>

                    <div class="problem-section">
                        <h3>5.1 포트 80 충돌 문제</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>bind() to 0.0.0.0:80 failed (98: Address already in use)</code> 오류</li>
                                <li>Nginx 시작 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>Bitnami의 Apache(httpd) 서비스가 포트 80 사용</li>
                                <li>기존 웹 서버와 Nginx 간의 포트 충돌</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 과정</h4>
                            <pre><code># 1. 포트 80 사용 프로세스 확인
sudo netstat -tulpn | grep :80
sudo fuser -n tcp 80

# 2. Apache 서비스 중지
sudo systemctl stop apache2 httpd
sudo systemctl disable apache2 httpd

# 3. Nginx 시작
sudo systemctl start nginx</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> Nginx 정상 시작 및 포트 80 사용 가능
                        </div>
                    </div>

                    <div class="problem-section">
                        <h3>5.2 SSL 인증서 설정</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>cannot load certificate "/etc/letsencrypt/live/nuvio.kr/fullchain.pem"</code> 오류</li>
                                <li>SSL 인증서 파일을 찾을 수 없음</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>SSL 인증서가 발급되기 전에 Nginx 설정에서 인증서 파일을 참조</li>
                                <li>Let's Encrypt 인증서 발급 과정에서 문제 발생</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 과정</h4>
                            <pre><code># 1. 기본 HTTP 설정으로 Nginx 시작
sudo tee /etc/nginx/sites-available/nuvio.kr > /dev/null << 'EOF'
server {
    listen 80;
    server_name nuvio.kr www.nuvio.kr;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    location /api {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
EOF

# 2. 사이트 활성화
sudo ln -sf /etc/nginx/sites-available/nuvio.kr /etc/nginx/sites-enabled/
sudo systemctl restart nginx

# 3. SSL 인증서 발급
sudo certbot --nginx -d nuvio.kr</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> SSL 인증서 정상 발급 및 HTTPS 접속 가능
                        </div>
                    </div>

                    <h2 id="cors-issues">🔒 CORS 설정 문제</h2>

                    <div class="problem-section">
                        <h3>6.1 CORS 정책 위반</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>Access-Control-Allow-Origin header has a value 'http://localhost:3000' that is not equal to the supplied origin 'https://nuvio.kr'</code> 오류</li>
                                <li>프론트엔드에서 백엔드 API 호출 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>프론트엔드: <code>https://nuvio.kr</code> (HTTPS)</li>
                                <li>백엔드 CORS 설정: <code>http://localhost:3000</code> (HTTP)</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법</h4>
                            <pre><code># .env 파일에 올바른 CORS 설정
echo "CORS_ORIGIN=https://nuvio.kr" >> .env
echo "FRONTEND_URL=https://nuvio.kr" >> .env

# docker-compose.yml에서 환경 변수 사용
environment:
  CORS_ORIGIN: ${CORS_ORIGIN:-https://nuvio.kr}
  NEXT_PUBLIC_API_URL: ${FRONTEND_API_URL:-https://nuvio.kr/api}</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> CORS 정책 위반 해결 및 API 호출 성공
                        </div>
                    </div>

                    <h2 id="automation">🤖 자동화 스크립트 개발</h2>

                    <h3>7.1 클라우드 배포 스크립트</h3>
                    <div class="code-block">
                        <h4>run-nuvio.sh - nuvio.kr 도메인용 실행 스크립트</h4>
                        <pre><code>#!/bin/bash
echo "🚀 nuvio.kr용 ERP 시스템 시작..."

# Docker 권한 확인
if ! docker ps >/dev/null 2>&1; then
    echo "❌ Docker 권한 문제가 감지되었습니다."
    ./fix-docker-permissions.sh
    exit 1
fi

# 환경 변수 파일 설정
if [ ! -f .env ]; then
    cp env.cloud .env
fi

# 포트 충돌 해결
if lsof -i :3000 >/dev/null 2>&1 || lsof -i :3001 >/dev/null 2>&1; then
    ./force-fix-ports.sh
fi

# ERP 시스템 실행
docker-compose down
docker-compose up --build -d

echo "🎉 ERP 시스템이 성공적으로 시작되었습니다!"
echo "📱 접속 정보:"
echo "   프론트엔드: https://nuvio.kr"
echo "   백엔드 API: https://nuvio.kr/api"</code></pre>
                    </div>

                    <h3>7.2 환경별 설정 파일</h3>
                    <div class="code-block">
                        <h4>env.cloud - 클라우드 환경용 설정</h4>
                        <pre><code>DATABASE_URL="postgresql://postgres:password@postgres:5432/intu_erp"
POSTGRES_PASSWORD=password
DB_PASSWORD=password
CORS_ORIGIN="https://nuvio.kr"
FRONTEND_URL="https://nuvio.kr"
NEXT_PUBLIC_API_URL="https://nuvio.kr/api"</code></pre>
                    </div>

                    <h2 id="git-auth">🔐 Git 인증 문제 해결</h2>

                    <div class="problem-section">
                        <h3>8.1 GitHub Personal Access Token 설정</h3>
                        
                        <div class="problem-box">
                            <h4>문제 상황</h4>
                            <ul>
                                <li><code>Password authentication is not supported for Git operations</code> 오류</li>
                                <li>Git push 실패</li>
                            </ul>
                        </div>

                        <div class="solution-box">
                            <h4>원인 분석</h4>
                            <ul>
                                <li>GitHub에서 비밀번호 인증 지원 중단</li>
                                <li>Personal Access Token 필요</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h4>해결 방법</h4>
                            <pre><code># Git 사용자 정보 설정
git config --global user.name "Mingjaam"
git config --global user.email "kimminje0627@naver.com"

# 자격 증명 저장소 설정
git config --global credential.helper store

# Personal Access Token 사용하여 푸시
git push origin test</code></pre>
                        </div>

                        <div class="result-box">
                            <strong>결과:</strong> Git 인증 성공 및 코드 푸시 가능
                        </div>
                    </div>

                    <h2 id="deployment-complete">✅ 배포 완료 및 검증</h2>

                    <h3>9.1 서비스 상태 확인</h3>
                    <div class="code-block">
                        <h4>배포 상태 확인 명령어</h4>
                        <pre><code># Docker 컨테이너 상태
docker-compose ps

# Nginx 상태
sudo systemctl status nginx

# SSL 인증서 확인
sudo certbot certificates

# API 접속 테스트
curl -I https://nuvio.kr/api</code></pre>
                    </div>

                    <h3>9.2 최종 접속 정보</h3>
                    <div class="success-grid">
                        <div class="success-item">
                            <h3>🌐 웹 서비스</h3>
                            <ul>
                                <li><strong>프론트엔드:</strong> https://nuvio.kr</li>
                                <li><strong>백엔드 API:</strong> https://nuvio.kr/api</li>
                            </ul>
                        </div>
                        
                        <div class="success-item">
                            <h3>🗄️ 데이터베이스</h3>
                            <ul>
                                <li><strong>PostgreSQL:</strong> localhost:5432 (내부 네트워크)</li>
                                <li><strong>Redis:</strong> localhost:6379 (내부 네트워크)</li>
                            </ul>
                        </div>
                    </div>

                    <h2 id="efficiency">📈 개발 효율성 향상 포인트</h2>

                    <div class="learning-section">
                        <h3>10.1 기능 구현 전 클라우드 배포 환경 구축의 장점</h3>
                        <ul>
                            <li><strong>지속적인 배포:</strong> 코드 변경사항을 즉시 클라우드에서 테스트 가능</li>
                            <li><strong>실제 환경 테스트:</strong> 로컬과 다른 환경에서의 문제점 조기 발견</li>
                            <li><strong>팀 협업:</strong> 다른 개발자들이 실제 배포된 환경에서 테스트 가능</li>
                            <li><strong>사용자 피드백:</strong> 실제 사용자에게 배포된 환경에서 피드백 수집 가능</li>
                        </ul>

                        <h3>10.2 자동화 스크립트의 중요성</h3>
                        <ul>
                            <li><strong>일관된 배포:</strong> 매번 동일한 과정으로 배포</li>
                            <li><strong>오류 방지:</strong> 수동 작업으로 인한 실수 방지</li>
                            <li><strong>시간 절약:</strong> 복잡한 배포 과정을 자동화</li>
                            <li><strong>문서화:</strong> 스크립트 자체가 배포 과정의 문서 역할</li>
                        </ul>
                    </div>

                    <h2 id="future-improvements">🔮 향후 개선 사항</h2>

                    <div class="learning-section">
                        <h3>11.1 CI/CD 파이프라인 구축</h3>
                        <div class="code-block">
                            <h4>.github/workflows/deploy.yml 예시</h4>
                            <pre><code>name: Deploy to Lightsail
on:
  push:
    branches: [test]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Deploy to server
        run: |
          ssh -i ${{ secrets.SSH_KEY }} bitnami@${{ secrets.SERVER_IP }} 'cd /home/bitnami/intu_erp && git pull && ./run-nuvio.sh'</code></pre>
                        </div>

                        <h3>11.2 모니터링 및 로깅</h3>
                        <ul>
                            <li><strong>로그 관리:</strong> ELK Stack 또는 CloudWatch 로그</li>
                            <li><strong>모니터링:</strong> Prometheus + Grafana</li>
                            <li><strong>알림:</strong> Slack 또는 이메일 알림 설정</li>
                        </ul>
                    </div>

                    <h2 id="conclusion">🎯 결론</h2>
                    <p>이번 프로젝트를 통해 기능 구현이 완료되기 전에 클라우드 배포 환경을 구축하는 것이 얼마나 중요한지 깨달았습니다. 특히 Docker 컨테이너화, 자동화 스크립트, 환경별 설정 분리 등을 통해 개발 효율성을 크게 향상시킬 수 있었습니다.</p>
                    
                    <p>Amazon Lightsail을 사용한 클라우드 배포는 비용 효율적이면서도 충분한 성능을 제공하며, 특히 소규모 프로젝트나 프로토타입 개발에 매우 적합합니다. 앞으로도 지속적인 배포와 모니터링을 통해 더욱 안정적인 서비스를 구축해나갈 예정입니다.</p>

                    <div class="highlight-box">
                        <h4>💡 핵심 교훈</h4>
                        <p><strong>기능 구현이 완벽하지 않은 상태에서도 클라우드 배포 환경을 먼저 구축해놓는 것이 개발 효율성과 지속적인 배포(CI/CD) 측면에서 매우 유용합니다.</strong></p>
                    </div>

                </div>
            </article>
        </div>
    </main>

    <!-- 푸터 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>김민재</h4>
                    <p>문제를 해결하는 걸 즐기는 프론트엔드 개발자</p>
                </div>
                <div class="footer-section">
                    <h4>링크</h4>
                    <ul>
                        <li><a href="../../portfolio/index.html">포트폴리오</a></li>
                        <li><a href="https://github.com/Mingjaam" target="_blank">GitHub</a></li>
                        <li><a href="https://linkedin.com/in/민재-김-209b0533b" target="_blank">LinkedIn</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>연락처</h4>
                    <p><i class="fas fa-envelope"></i> kimminje0627@naver.com</p>
                    <p><i class="fas fa-phone"></i> 010-3717-7644</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 김민재. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../post-script.js"></script>
</body>
</html>
